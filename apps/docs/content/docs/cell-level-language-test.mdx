---
title: Cell-Level Language Detection Test
---

# Cell-Level Language Detection Test

This notebook demonstrates how individual cells can have different languages through magic commands and cell metadata.

import { NotebookLoader } from "notebook-mdx";

<NotebookLoader
  notebookData={{
    "cells": [
      {
        "cell_type": "markdown",
        "source": "# Language Detection Demo\n\nThis notebook shows different cells with different languages."
      },
      {
        "cell_type": "code", 
        "execution_count": 1,
        "metadata": {},
        "outputs": [],
        "source": "# Regular Python cell\nprint('Hello from Python!')\nimport pandas as pd"
      },
      {
        "cell_type": "code",
        "execution_count": 2, 
        "metadata": {},
        "outputs": [],
        "source": "%%javascript\n// This cell uses JavaScript magic\nconsole.log('Hello from JavaScript!');\ndocument.querySelector('body').style.background = 'lightblue';"
      },
      {
        "cell_type": "code",
        "execution_count": 3,
        "metadata": {},
        "outputs": [],
        "source": "%%bash\n# This cell uses bash magic\necho \"Hello from Bash!\"\nls -la /tmp"
      },
      {
        "cell_type": "code",
        "execution_count": 4,
        "metadata": {},
        "outputs": [],
        "source": "%%html\n<div style=\"color: red; font-weight: bold;\">\n  <h2>Hello from HTML!</h2>\n  <p>This is rendered HTML content.</p>\n</div>"
      },
      {
        "cell_type": "code",
        "execution_count": 5,
        "metadata": {
          "languageId": "sql"
        },
        "outputs": [],
        "source": "-- Cell with SQL metadata override\nSELECT customer_name, order_date \nFROM orders \nWHERE order_date > '2023-01-01'\nORDER BY order_date DESC;"
      },
      {
        "cell_type": "code",
        "execution_count": 6,
        "metadata": {},
        "outputs": [],
        "source": "%%ruby\n# Ruby magic command\nputs 'Hello from Ruby!'\n3.times { |i| puts \"Count: #{i}\" }"
      },
      {
        "cell_type": "raw",
        "metadata": {
          "format": "text/html"
        },
        "source": "<h3>Raw HTML Cell</h3>\n<p>This is a raw cell with HTML format metadata.</p>"
      },
      {
        "cell_type": "raw",
        "metadata": {
          "format": "text/x-bash"
        },
        "source": "#!/bin/bash\n# Raw bash script\necho \"This is a raw bash script\"\nfor i in {1..3}; do\n  echo \"Loop iteration: $i\"\ndone"
      },
      {
        "cell_type": "code",
        "execution_count": 7,
        "metadata": {},
        "outputs": [],
        "source": "# Back to regular Python\ndef fibonacci(n):\n    if n <= 1:\n        return n\n    return fibonacci(n-1) + fibonacci(n-2)\n\nprint(f'Fibonacci(10) = {fibonacci(10)}')"
      }
    ],
    "metadata": {
      "kernelspec": {
        "display_name": "Python 3",
        "language": "python",
        "name": "python3"
      },
      "language_info": {
        "name": "python",
        "version": "3.9.0"
      }
    },
    "nbformat": 4,
    "nbformat_minor": 4
  }}
/>

## Expected Language Indicators

You should see different language indicators in the bottom right of each code cell:

1. **Cell 1**: `python` (default kernel language)
2. **Cell 2**: `javascript` (from `%%javascript` magic)
3. **Cell 3**: `bash` (from `%%bash` magic) 
4. **Cell 4**: `html` (from `%%html` magic)
5. **Cell 5**: `sql` (from cell metadata `languageId`)
6. **Cell 6**: `ruby` (from `%%ruby` magic)
7. **Raw Cell 1**: `raw` (all raw cells show "raw")
8. **Raw Cell 2**: `raw` (all raw cells show "raw")
9. **Cell 7**: `python` (back to default kernel language)

This demonstrates the cell-level language detection hierarchy:
1. Cell metadata (`languageId`, `language`)
2. Magic commands (`%%javascript`, `%%bash`, etc.)
3. Raw cells always show "raw"
4. Fallback to notebook kernel language for code cells 